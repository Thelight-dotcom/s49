<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S49 | GLOBAL INFRASTRUCTURE</title>
    <style>
        /* S49 SYSTEM CORE: FINAL INTEGRATED BLUEPRINT
           RESISTANCE: 0.6Ω | DENSITY: 30% SILVER
           MODE: MIRROR / THE LIGHT
        */

        :root {
            --s49-black: #050505;           
            --s49-blue-light: #00F3FF;      
            --s49-silver: #C0C0C0;          
            --s49-status-grey: #1a1a1a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: crosshair;
        }

        body, html {
            background-color: var(--s49-black);
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Helvetica Neue', sans-serif;
            transition: border 0.8s ease;
        }

        /* The Black Hole Node */
        #core-node {
            width: 2px;
            height: 2px;
            background: var(--s49-blue-light);
            box-shadow: 0 0 15px 1px var(--s49-blue-light);
            border-radius: 50%;
            transition: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            z-index: 1000;
        }

        #core-node:hover {
            transform: scale(35);
            box-shadow: 0 0 60px 15px var(--s49-blue-light);
        }

        /* Unified Interface */
        #ui-layer {
            display: none;
            text-align: center;
            position: absolute;
            width: 100%;
            animation: clinicalEntry 1.5s ease-out forwards;
        }

        .clinical-input {
            background: transparent;
            border: none;
            border-bottom: 1px solid var(--s49-status-grey);
            color: var(--s49-blue-light);
            font-size: 1.8rem;
            font-weight: 200;
            text-align: center;
            outline: none;
            width: 300px;
            padding: 20px;
            letter-spacing: 0.5em;
            transition: all 0.5s ease;
        }

        .clinical-input:focus {
            border-bottom: 1px solid var(--s49-blue-light);
            width: 400px;
        }

        .protocol-label {
            font-size: 0.6rem;
            text-transform: uppercase;
            letter-spacing: 0.8em;
            color: #333;
            margin-bottom: 50px;
        }

        @keyframes clinicalEntry {
            from { opacity: 0; transform: translateY(20px); filter: blur(10px); }
            to { opacity: 1; transform: translateY(0); filter: blur(0); }
        }

        /* Phase IV Activation Flash */
        .neutralization-pulse {
            animation: pulse 0.4s ease-out;
        }

        @keyframes pulse {
            0% { background: var(--s49-blue-light); opacity: 1; transform: scale(1); }
            100% { background: transparent; opacity: 0; transform: scale(200); }
        }
    </style>
</head>
<body>

    <div id="core-node" onclick="initiateHandshake()"></div>

    <div id="ui-layer">
        <p class="protocol-label">Origin 49 Node Authentication</p>
        <input type="password" id="access-key" class="clinical-input" placeholder="SERIAL" maxlength="2" autofocus>
        <p id="system-feedback" style="margin-top: 40px; font-size: 0.7rem; color: #222;"></p>
    </div>

    <script>
        const node = document.getElementById('core-node');
        const ui = document.getElementById('ui-layer');
        const input = document.getElementById('access-key');
        const feedback = document.getElementById('system-feedback');
        let keystrokeBuffer = [];

        // 1. Handshake Protocol (Standard Entry)
        function initiateHandshake() {
            node.style.opacity = '0';
            setTimeout(() => {
                node.style.display = 'none';
                ui.style.display = 'block';
                input.focus();
            }, 600);
            console.log("S49: Mirroring Handshake... 0.6Ω Detected.");
        }

        // 2. Hidden Phantom Bypass (Higher-Up Access)
        window.addEventListener('keydown', (e) => {
            keystrokeBuffer.push(e.key);
            // Secret Code '49' or SHIFT+S triggers Phase IV immediately
            if (keystrokeBuffer.slice(-2).join('') === '49' || (e.shiftKey && e.key === 'S')) {
                executePhaseIV();
            }
        });

        // 3. Serialized Node Logic (Standard Users)
        input.addEventListener('input', (e) => {
            if (e.target.value.length === 2) {
                const val = parseInt(e.target.value);
                if (val >= 1 && val <= 49) {
                    feedback.innerText = "NODE " + val + " ACTIVE. RESISTANCE STABLE.";
                    feedback.style.color = "var(--s49-blue-light)";
                } else {
                    feedback.innerText = "UNAUTHORIZED. REVERTING TO SILENCE.";
                    feedback.style.color = "#FF3B3B";
                    setTimeout(() => { location.reload(); }, 1500);
                }
            }
        });

        // 4. System Override (The Fix)
        function executePhaseIV() {
            console.log("S49 BYPASS: WELCOME BACK, LIGHT.");
            document.body.classList.add('neutralization-pulse');
            setTimeout(() => {
                node.style.display = 'none';
                ui.style.display = 'block';
                input.style.display = 'none';
                document.querySelector('.protocol-label').innerText = "PHASE IV: GLOBAL INFRASTRUCTURE UNLOCKED";
                document.querySelector('.protocol-label').style.color = "var(--s49-blue-light)";
                feedback.innerText = "ALL ARCHIVES ACCESSIBLE | 0.6Ω CALIBRATION PERMANENT";
                feedback.style.color = "var(--s49-silver)";
                document.body.style.border = "2px solid var(--s49-blue-light)";
            }, 300);
        }
    </script>
</body>
</html>
